# üöÄ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ 3x-ui

**–í–µ—Ä—Å–∏—è:** 1.0.0
**–°—Ç–∞—Ç—É—Å:** Production Ready

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ 3x-ui —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã.

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã](#-—Ä–µ–∂–∏–º—ã-—Ä–∞–±–æ—Ç—ã)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–ü—Ä–∏–º–µ—Ä—ã](#-–ø—Ä–∏–º–µ—Ä—ã)
- [–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞](#-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [Troubleshooting](#-troubleshooting)

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ (curl, jq, sqlite3, openssl, net-tools, dnsutils)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —É—Ç–∏–ª–∏—Ç –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ 3x-ui**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞
- –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

‚úÖ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ bridge-—Ç—É–Ω–Ω–µ–ª–µ–π**
- Dokodemo-door –≤—Ö–æ–¥—è—â–∏–µ –∏ –∏—Å—Ö–æ–¥—è—â–∏–µ –º–æ—Å—Ç—ã
- Reality VPN –≤—Ö–æ–¥–Ω—ã–µ (ENTRY) –∏ –≤—ã—Ö–æ–¥–Ω—ã–µ (EXIT) –Ω–æ–¥—ã
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞ x-ui
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ–º—ã—Ö –ø–æ—Ä—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- DNS —Ç–µ—Å—Ç—ã
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ (--skip-tests)

‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/alche-my/x-ui-settings-update.git
cd x-ui-settings-update

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ
sudo ./server-setup.sh

# –ò–ª–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ä–µ–∂–∏–º–∞
sudo ./server-setup.sh --mode reality-exit
```

### –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. ‚úì –ü—Ä–æ–≤–µ—Ä–∏—Ç –ø—Ä–∞–≤–∞ root
2. ‚úì –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
3. ‚úì –£—Å—Ç–∞–Ω–æ–≤–∏—Ç 3x-ui (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
4. ‚úì –ù–∞—Å—Ç—Ä–æ–∏—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –º–æ—Å—Ç–∞
5. ‚úì –°–æ–∑–¥–∞—Å—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
6. ‚úì –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
7. ‚úì –í—ã–¥–∞—Å—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

---

## üéõÔ∏è –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

–°–∫—Ä–∏–ø—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 4 —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:

### 1. `dokodemo-in` - Dokodemo –≤—Ö–æ–¥—è—â–∏–π –º–æ—Å—Ç

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
–ö–ª–∏–µ–Ω—Ç ‚Üí Dokodemo IN (—ç—Ç–æ—Ç —Å–µ—Ä–≤–µ—Ä) ‚Üí –£–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
sudo ./server-setup.sh --mode dokodemo-in
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –†–æ—Å—Å–∏–π—Å–∫–∏–π VPS –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ CDN
- –ü—Ä—è–º–æ–π —Ç—É–Ω–Ω–µ–ª—å –∫ —Ñ–∏–Ω—Å–∫–æ–º—É/–µ–≤—Ä–æ–ø–µ–π—Å–∫–æ–º—É —Å–µ—Ä–≤–µ—Ä—É

---

### 2. `dokodemo-out` - Dokodemo –∏—Å—Ö–æ–¥—è—â–∏–π –º–æ—Å—Ç

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –æ—Ç —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ –º–æ—Å—Ç–∞

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
–†–æ—Å—Å–∏–π—Å–∫–∏–π –º–æ—Å—Ç ‚Üí Dokodemo OUT (—ç—Ç–æ—Ç —Å–µ—Ä–≤–µ—Ä) ‚Üí –ò–Ω—Ç–µ—Ä–Ω–µ—Ç
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
sudo ./server-setup.sh --mode dokodemo-out
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –§–∏–Ω—Å–∫–∏–π/–µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π VPS
- –ü—Ä–∏–µ–º —Ç—Ä–∞—Ñ–∏–∫–∞ –æ—Ç dokodemo-in –º–æ—Å—Ç–∞

---

### 3. `reality-entry` - Reality VPN –≤—Ö–æ–¥–Ω–∞—è –Ω–æ–¥–∞

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** VLESS+Reality inbound –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (VLESS –∫–ª–∏–µ–Ω—Ç—ã) ‚Üí Reality ENTRY (—ç—Ç–æ—Ç —Å–µ—Ä–≤–µ—Ä) ‚Üí EXIT —Å–µ—Ä–≤–µ—Ä ‚Üí –ò–Ω—Ç–µ—Ä–Ω–µ—Ç
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
sudo ./server-setup.sh --mode reality-entry
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –†–æ—Å—Å–∏–π—Å–∫–∏–π VPS –¥–ª—è –ø—Ä–∏–µ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤—è–∑–∫–µ —Å reality-exit –Ω–æ–¥–æ–π
- –û–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —Å –ø–æ–º–æ—â—å—é Reality –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

**–ß—Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è:**
- VLESS+Reality inbound —Å —Ç–µ–≥–æ–º `ENTRY_IN`
- Public/Private keypair –¥–ª—è Reality
- Short IDs –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è outbound –Ω–∞ EXIT —Å–µ—Ä–≤–µ—Ä

---

### 4. `reality-exit` - Reality VPN –≤—ã—Ö–æ–¥–Ω–∞—è –Ω–æ–¥–∞

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** VLESS+Reality exit –Ω–æ–¥–∞ –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
ENTRY —Å–µ—Ä–≤–µ—Ä ‚Üí Reality EXIT (—ç—Ç–æ—Ç —Å–µ—Ä–≤–µ—Ä) ‚Üí –ò–Ω—Ç–µ—Ä–Ω–µ—Ç
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
sudo ./server-setup.sh --mode reality-exit
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –§–∏–Ω—Å–∫–∏–π/–µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π VPS
- –ü—Ä–∏–µ–º —Ç—Ä–∞—Ñ–∏–∫–∞ –æ—Ç reality-entry
- –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –æ—Ç–∫—Ä—ã—Ç—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç

**–ß—Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è:**
- VLESS+Reality inbound —Å —Ç–µ–≥–æ–º `EXIT_IN`
- Bridge –∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –æ—Ç ENTRY —Å–µ—Ä–≤–µ—Ä–∞
- Public/Private keypair –¥–ª—è Reality
- VLESS —Å—Å—ã–ª–∫–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ENTRY ‚Üí EXIT –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°:** Linux (Ubuntu 20.04+, Debian 10+)
- **–ü—Ä–∞–≤–∞:** root –∏–ª–∏ sudo
- **–î–∏—Å–∫:** –ú–∏–Ω–∏–º—É–º 500 MB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **RAM:** –ú–∏–Ω–∏–º—É–º 512 MB
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç:** –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

- `curl` - HTTP –∑–∞–ø—Ä–æ—Å—ã
- `jq` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ JSON
- `sqlite3` - —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö x-ui
- `openssl` - –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `net-tools` - —Å–µ—Ç–µ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã (netstat)
- `iproute2` - —Å–µ—Ç–µ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã (ss)
- `netcat-openbsd` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤
- `dnsutils` - DNS —Ç–µ—Å—Ç—ã (dig)

---

## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```bash
sudo ./server-setup.sh [–û–ü–¶–ò–ò]
```

### –û–ø—Ü–∏–∏

| –û–ø—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ |
|-------|----------|-------------|
| `--mode MODE` | –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: `dokodemo-in`, `dokodemo-out`, `reality-entry`, `reality-exit` | –î–∞ (–∏–ª–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä) |
| `--non-interactive` | –ù–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | –ù–µ—Ç |
| `--skip-tests` | –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ | –ù–µ—Ç |
| `--log-level LEVEL` | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: `info` –∏–ª–∏ `debug` | –ù–µ—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: info) |
| `-h, --help` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É | –ù–µ—Ç |

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

–ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å `--mode`, —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç –≤—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞:

```bash
sudo ./server-setup.sh
```

–í—ã —É–≤–∏–¥–∏—Ç–µ –º–µ–Ω—é:
```
–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞:
1) Dokodemo-door –≤—Ö–æ–¥—è—â–∏–π –º–æ—Å—Ç
2) Dokodemo-door –∏—Å—Ö–æ–¥—è—â–∏–π –º–æ—Å—Ç
3) Reality VPN –≤—Ö–æ–¥–Ω–∞—è –Ω–æ–¥–∞ (ENTRY)
4) Reality VPN –≤—ã—Ö–æ–¥–Ω–∞—è –Ω–æ–¥–∞ (EXIT)

–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä (1-4):
```

---

## üìù –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Reality EXIT –Ω–æ–¥—ã (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ)

```bash
sudo ./server-setup.sh --mode reality-exit
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:**
1. –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ 3x-ui –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
3. –ó–∞–ø—É—Å—Ç–∏—Ç `rvpn-bridge-setup.sh --role exit`
4. –°–æ–∑–¥–∞—Å—Ç EXIT inbound —Å Reality
5. –í—ã–¥–∞—Å—Ç bridge VLESS —Å—Å—ã–ª–∫—É –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ENTRY —Å–µ—Ä–≤–µ—Ä–∞
6. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç—ã –∏ —Å–µ—Ä–≤–∏—Å—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë         –£–°–¢–ê–ù–û–í–ö–ê –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù–ê!                  ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

–†–µ–∂–∏–º: reality-exit
IP —Å–µ—Ä–≤–µ—Ä–∞: 1.2.3.4
–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: http://1.2.3.4:2053

–õ–æ–≥–∏: /var/log/server-setup/setup.log
–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: /root/server-setup/diagnostics
```

---

### –ü—Ä–∏–º–µ—Ä 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Reality ENTRY –Ω–æ–¥—ã (–Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ)

```bash
sudo ./server-setup.sh --mode reality-entry --non-interactive
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:**
1. –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
2. 3x-ui —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–µ–∑ –≤–æ–ø—Ä–æ—Å–æ–≤
3. ENTRY inbound —Å–æ–∑–¥–∞—Å—Ç—Å—è —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
4. –¢–µ—Å—Ç—ã –∑–∞–ø—É—Å—Ç—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

### –ü—Ä–∏–º–µ—Ä 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Dokodemo –º–æ—Å—Ç–∞ —Å –æ—Ç–ª–∞–¥–∫–æ–π

```bash
sudo ./server-setup.sh --mode dokodemo-in --log-level debug
```

**–í—ã–≤–æ–¥:**
```
‚öô [DEBUG] –ù–∞–π–¥–µ–Ω: curl
‚öô [DEBUG] –ù–∞–π–¥–µ–Ω: jq
‚öô [DEBUG] –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç: sqlite3 (–ø–∞–∫–µ—Ç: sqlite3)
‚Ñπ [INFO] –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤: sqlite3
...
```

---

### –ü—Ä–∏–º–µ—Ä 4: –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑ —Ç–µ—Å—Ç–æ–≤

```bash
sudo ./server-setup.sh --mode reality-exit --skip-tests
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ
- –ö–æ–≥–¥–∞ —É–≤–µ—Ä–µ–Ω—ã —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –≤—Ä–µ–º–µ–Ω–∏

---

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –§–∞–π–ª—ã –ª–æ–≥–æ–≤

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `/var/log/server-setup/setup.log` | –ì–ª–∞–≤–Ω—ã–π –ª–æ–≥ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π |
| `/root/server-setup/artifacts.json` | –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∫–ª—é—á–∏) |
| `/root/server-setup/diagnostics/diagnostics_*.log` | –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–Ω–∏–º–∫–∏ —Å–∏—Å—Ç–µ–º—ã |

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**INFO (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**
```
‚Ñπ [INFO] –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –û–°: ubuntu 22.04
‚úì [SUCCESS] –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
‚ö† [WARN] –ü–æ—Ä—Ç 443 –∑–∞–Ω—è—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 8443
```

**DEBUG (--log-level debug):**
```
‚öô [DEBUG] –ù–∞–π–¥–µ–Ω: curl (curl 7.68.0)
‚öô [DEBUG] –ü–æ–∏—Å–∫ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞, –Ω–∞—á–∏–Ω–∞—è —Å 443
‚öô [DEBUG] –ü–æ—Ä—Ç 443 –∑–∞–Ω—è—Ç
‚öô [DEBUG] –ù–∞–π–¥–µ–Ω —Å–≤–æ–±–æ–¥–Ω—ã–π –ø–æ—Ä—Ç: 8443
```

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

–ü—Ä–∏ –æ—à–∏–±–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª:

```
diagnostics_20231125_143022.log
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (uname, OS release)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞ –∏ –ø–∞–º—è—Ç–∏
- –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞ x-ui
- –ü—Ä–æ—Å–ª—É—à–∏–≤–∞–µ–º—ã–µ –ø–æ—Ä—Ç—ã
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫ –ª–æ–≥–∞

**–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**
```bash
cat /root/server-setup/diagnostics/diagnostics_*.log
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã

–°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç 4 —Ç–µ—Å—Ç–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

**–¢–µ—Å—Ç 1: –°–µ—Ä–≤–∏—Å x-ui**
```
‚Ñπ [INFO] –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ x-ui
‚úì [SUCCESS] –°–µ—Ä–≤–∏—Å x-ui –∑–∞–ø—É—â–µ–Ω
```

**–¢–µ—Å—Ç 2: –ü—Ä–æ—Å–ª—É—à–∏–≤–∞–µ–º—ã–µ –ø–æ—Ä—Ç—ã**
```
‚Ñπ [INFO] –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ–º—ã—Ö –ø–æ—Ä—Ç–æ–≤
‚úì [SUCCESS] –ù–∞–π–¥–µ–Ω–æ 3 –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ–º—ã—Ö –ø–æ—Ä—Ç–æ–≤
```

**–¢–µ—Å—Ç 3: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
```
‚Ñπ [INFO] –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö x-ui
‚úì [SUCCESS] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞–π–¥–µ–Ω–∞, inbound'–æ–≤: 2
```

**–¢–µ—Å—Ç 4: DNS**
```
‚Ñπ [INFO] –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS —Ä–µ–∑–æ–ª—é—Ü–∏–∏
‚úì [SUCCESS] DNS —Ä–µ–∑–æ–ª—é—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
```

### –ü—Ä–æ–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
sudo ./server-setup.sh --mode reality-exit --skip-tests
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

**–°—Ç–∞—Ç—É—Å x-ui:**
```bash
systemctl status x-ui
```

**–ü–æ—Ä—Ç—ã:**
```bash
ss -lntup | grep -E ':(443|2053|8443)'
```

**Inbound'—ã –≤ –ë–î:**
```bash
sqlite3 /etc/x-ui/x-ui.db "SELECT id, tag, port, protocol FROM inbounds;"
```

**–õ–æ–≥–∏ x-ui:**
```bash
journalctl -u x-ui -n 50
```

---

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω —Å –ø—Ä–∞–≤–∞–º–∏ root"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
sudo ./server-setup.sh --mode reality-exit
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ä–µ–∂–∏–º"

**–ü—Ä–∏—á–∏–Ω–∞:** –û–ø–µ—á–∞—Ç–∫–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ —Ä–µ–∂–∏–º–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
sudo ./server-setup.sh --mode reality_exit

# –ü—Ä–∞–≤–∏–ª—å–Ω–æ
sudo ./server-setup.sh --mode reality-exit
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ–∂–∏–º—ã:**
- `dokodemo-in`
- `dokodemo-out`
- `reality-entry`
- `reality-exit`

---

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏"

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
ping -c 4 google.com

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS
dig google.com @8.8.8.8

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å apt —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
apt-get update
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–∫–∏ –ø–∞–∫–µ—Ç–æ–≤
apt-get update

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é
apt-get install -y curl jq sqlite3 openssl net-tools iproute2 netcat-openbsd dnsutils

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç —Å–Ω–æ–≤–∞
sudo ./server-setup.sh --mode reality-exit
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 3x-ui"

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
cat /var/log/server-setup/setup.log | grep ERROR

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
curl -I https://raw.githubusercontent.com/mhsanaei/3x-ui/master/install.sh
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 3x-ui –≤—Ä—É—á–Ω—É—é
bash <(curl -Ls https://raw.githubusercontent.com/mhsanaei/3x-ui/master/install.sh)

# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞—à —Å–∫—Ä–∏–ø—Ç
sudo ./server-setup.sh --mode reality-exit
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: "–°–µ—Ä–≤–∏—Å x-ui –Ω–µ –∑–∞–ø—É—â–µ–Ω"

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status x-ui

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
journalctl -u x-ui -n 100
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
systemctl restart x-ui

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status x-ui

# –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
systemctl enable x-ui
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: "–ü–æ—Ä—Ç—ã –Ω–µ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—é—Ç—Å—è"

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–∏–µ –ø–æ—Ä—Ç—ã —Å–ª—É—à–∞—é—Ç—Å—è
ss -lntup

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å firewall
ufw status
iptables -L
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç—ã –≤ firewall
ufw allow 443/tcp
ufw allow 2053/tcp
ufw allow 8443/tcp

# –ò–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å firewall (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
ufw disable

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å x-ui
systemctl restart x-ui
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: "–§–∞–π–ª rvpn-bridge-setup.sh –Ω–µ –Ω–∞–π–¥–µ–Ω"

**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–ø—É—Å–∫ –∏–∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
cd /path/to/x-ui-settings-update

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞
ls -la rvpn-bridge-setup.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
sudo ./server-setup.sh --mode reality-exit
```

---

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞:

1. **–°–æ–±–µ—Ä–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:**
   ```bash
   cat /root/server-setup/diagnostics/diagnostics_*.log
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   tail -n 100 /var/log/server-setup/setup.log
   ```

3. **–°–æ–∑–¥–∞–π—Ç–µ Issue:**
   - –û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É
   - –ü—Ä–∏–ª–æ–∂–∏—Ç–µ –ª–æ–≥–∏
   - –£–∫–∞–∂–∏—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
   - –£–∫–∞–∂–∏—Ç–µ –û–° –∏ –≤–µ—Ä—Å–∏—é

---

## üìà –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

### –î–ª—è reality-exit:

1. ‚úì –°–∫–æ–ø–∏—Ä—É–π—Ç–µ bridge VLESS —Å—Å—ã–ª–∫—É
2. ‚úì –ù–∞—Å—Ç—Ä–æ–π—Ç–µ ENTRY —Å–µ—Ä–≤–µ—Ä —Å —ç—Ç–æ–π —Å—Å—ã–ª–∫–æ–π
3. ‚úì –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–∞–Ω–µ–ª–∏ 3x-ui
4. ‚úì –ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall

### –î–ª—è reality-entry:

1. ‚úì –ü–æ–ª—É—á–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç EXIT —Å–µ—Ä–≤–µ—Ä–∞ (IP, port, public key, short ID)
2. ‚úì –ù–∞—Å—Ç—Ä–æ–π—Ç–µ outbound –Ω–∞ EXIT
3. ‚úì –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å
4. ‚úì –í—ã–¥–∞–π—Ç–µ VLESS —Å—Å—ã–ª–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

### –î–ª—è dokodemo –º–æ—Å—Ç–æ–≤:

1. ‚úì –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç—É–Ω–Ω–µ–ª—å –º–µ–∂–¥—É —Ä–æ—Å—Å–∏–π—Å–∫–∏–º –∏ –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–º VPS
2. ‚úì –û–±–Ω–æ–≤–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏ (–∑–∞–º–µ–Ω–∏—Ç–µ IP –∏ –ø–æ—Ä—Ç)
3. ‚úì –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–í–∞–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**

1. **–ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–∞–Ω–µ–ª–∏ 3x-ui:**
   ```
   http://–í–ê–®_IP:2053
   –õ–æ–≥–∏–Ω: admin
   –ü–∞—Ä–æ–ª—å: admin (–ò–ó–ú–ï–ù–ò–¢–ï!)
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall:**
   ```bash
   # –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã
   ufw allow 22/tcp    # SSH
   ufw allow 443/tcp   # VLESS
   ufw allow 2053/tcp  # –ü–∞–Ω–µ–ª—å (–∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç)
   ufw enable
   ```

3. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏:**
   - –ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –ø–∞–Ω–µ–ª–∏ —Å 2053 –Ω–∞ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ whitelist IP –¥–ª—è –ø–∞–Ω–µ–ª–∏
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ 2FA –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ

4. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ:**
   ```bash
   apt-get update && apt-get upgrade -y
   ```

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [README.md](README.md) - –ì–ª–∞–≤–Ω—ã–π README –ø—Ä–æ–µ–∫—Ç–∞
- [README-dokodemo-bridge.md](README-dokodemo-bridge.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Dokodemo –º–æ—Å—Ç–∞
- [rvpn-bridge-setup.sh](rvpn-bridge-setup.sh) - –°–∫—Ä–∏–ø—Ç Reality VPN bridge

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. [LICENSE](LICENSE)

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–°–∫—Ä–∏–ø—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞:
- [setup-dokodemo-bridge.sh](setup-dokodemo-bridge.sh)
- [rvpn-bridge-setup.sh](rvpn-bridge-setup.sh)
- –õ—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫–∞—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ 3x-ui

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞**

–í–µ—Ä—Å–∏—è: 1.0.0
–î–∞—Ç–∞: 2025
