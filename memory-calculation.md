# –†–∞—Å—á–µ—Ç –ø–∞–º—è—Ç–∏ –¥–ª—è Dokodemo-—Å–µ—Ä–≤–µ—Ä–∞

## üìä –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤:** 120 (–Ω–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö)
- **–¢–∏–ø –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:** Dokodemo-door (transparent proxy)
- **–ü—Ä–æ—Ç–æ–∫–æ–ª:** TCP/UDP —Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–§—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è:** –ù–µ—Ç (–±–∞–∑–æ–≤—ã–π dokodemo) / Level 1 / Level 2

---

## üî¨ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏

### 1. –ë–∞–∑–æ–≤–∞—è –ø–∞–º—è—Ç—å Xray –ø—Ä–æ—Ü–µ—Å—Å–∞

**Xray-core –≤ —Ä–µ–∂–∏–º–µ idle:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: **50-80 MB**
- –° –æ–¥–Ω–∏–º dokodemo inbound: **80-120 MB**
- –° –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ inbound'–∞–º–∏ (2-4): **120-150 MB**

**–ë–∞–∑–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞:**
```
–ë–∞–∑–æ–≤–∞—è –ø–∞–º—è—Ç—å = 80 MB (—Å—Ä–µ–¥–Ω–µ–µ –¥–ª—è 1 dokodemo inbound)
```

---

### 2. –ü–∞–º—è—Ç—å –Ω–∞ –æ–¥–Ω–æ –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

Dokodemo-door —Å–æ–∑–¥–∞–µ—Ç **–¥–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** –Ω–∞ –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞:
1. **–í—Ö–æ–¥—è—â–µ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏–π VPS
2. **–ò—Å—Ö–æ–¥—è—â–µ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** –æ—Ç —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ VPS –∫ —Ñ–∏–Ω—Å–∫–æ–º—É —Å–µ—Ä–≤–µ—Ä—É

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–∞–º—è—Ç–∏ –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –†–∞–∑–º–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------|----------|
| TCP –±—É—Ñ–µ—Ä –ø—Ä–∏–µ–º–∞ (receive) | 87 KB | Linux default (tcp_rmem) |
| TCP –±—É—Ñ–µ—Ä –æ—Ç–ø—Ä–∞–≤–∫–∏ (send) | 16 KB | Linux default (tcp_wmem) |
| –°—Ç—Ä—É–∫—Ç—É—Ä—ã —è–¥—Ä–∞ (socket, conn tracking) | 4 KB | –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è |
| Xray connection object | 8 KB | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Xray |
| DNS –∫–µ—à (–Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞) | 2 KB | –ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ DNS –∑–∞–ø–∏—Å–∏ |
| **–ò–¢–û–ì–û –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** | **117 KB** | –û–¥–Ω–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |

**–ü–∞–º—è—Ç—å –Ω–∞ –æ–¥–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ = 117 KB √ó 2 = 234 KB ‚âà 0.23 MB**

---

### 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å –ø—Ä–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–∞–∫–µ—Ç–æ–≤

–ï—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω tuning (Level 1 –∏–ª–∏ Level 2), –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –±—É—Ñ–µ—Ä –¥–ª—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏:

#### Level 1: Basic DPI (100-200 –±–∞–π—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã, –∏–Ω—Ç–µ—Ä–≤–∞–ª 10-20 –º—Å)
```
–†–∞–∑–º–µ—Ä —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ (—Å—Ä–µ–¥–Ω–∏–π): 150 –±–∞–π—Ç
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –≤ –±—É—Ñ–µ—Ä–µ: ~20 (–Ω–∞ –ø–µ—Ä–∏–æ–¥ reassembly)
–ë—É—Ñ–µ—Ä –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ: 150 √ó 20 = 3 KB √ó 2 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è = 6 KB
```

#### Level 2: CDN Bypass (50-150 –±–∞–π—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã, –∏–Ω—Ç–µ—Ä–≤–∞–ª 5-15 –º—Å)
```
–†–∞–∑–º–µ—Ä —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ (—Å—Ä–µ–¥–Ω–∏–π): 100 –±–∞–π—Ç
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –≤ –±—É—Ñ–µ—Ä–µ: ~30 (–±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è)
–ë—É—Ñ–µ—Ä –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ: 100 √ó 30 = 3 KB √ó 2 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è = 6 KB
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞ —Å —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–µ–π: ~6 KB ‚âà 0.006 MB**

---

### 4. –†–∞—Å—á–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

–î–ª—è **120 –∫–ª–∏–µ–Ω—Ç–æ–≤ (–Ω–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö)** –Ω—É–∂–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å **–ø–∏–∫–æ–≤—É—é –Ω–∞–≥—Ä—É–∑–∫—É** (–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è).

#### –¢–∏–ø–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

| –°—Ü–µ–Ω–∞—Ä–∏–π | –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ | % –æ—Ç –æ–±—â–µ–≥–æ |
|----------|------------------------|-------------|
| –ù–æ—á–Ω–æ–µ –≤—Ä–µ–º—è (02:00-06:00) | 10-20 | 8-17% |
| –†–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è (09:00-18:00) | 30-50 | 25-42% |
| –í–µ—á–µ—Ä–Ω–∏–π –ø–∏–∫ (18:00-23:00) | 60-80 | 50-67% |
| **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø–∏–∫** | **80-100** | **67-83%** |

**–î–ª—è —Ä–∞—Å—á–µ—Ç–∞ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- **–°—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞:** 40 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ (33%)
- **–ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞:** 80 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ (67%)
- **–ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø–∏–∫:** 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ (83%)

---

## üßÆ –ò–¢–û–ì–û–í–´–ï –†–ê–°–ß–ï–¢–´

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë–∞–∑–æ–≤—ã–π Dokodemo (–±–µ–∑ tuning)

```
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç                          | –ü–∞–º—è—Ç—å
-----------------------------------|--------
–ë–∞–∑–æ–≤–∞—è –ø–∞–º—è—Ç—å Xray                | 80 MB
–ü–∞–º—è—Ç—å –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (—Å—Ä–µ–¥–Ω—è—è):
  40 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.23 MB           | 9.2 MB
–ü–∞–º—è—Ç—å –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–ø–∏–∫–æ–≤–∞—è):
  80 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.23 MB           | 18.4 MB
–ü–∞–º—è—Ç—å –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–∞–±—Å. –ø–∏–∫):
  100 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.23 MB          | 23 MB
DNS –∫–µ—à (120 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 2 KB)    | 0.24 MB
–°–∏—Å—Ç–µ–º–Ω—ã–µ –±—É—Ñ–µ—Ä—ã (+10%)           | 10 MB
-----------------------------------|--------
–ò–¢–û–ì–û (—Å—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞):         | 99.4 MB  ‚âà 100 MB
–ò–¢–û–ì–û (–ø–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞):         | 108.6 MB ‚âà 110 MB
–ò–¢–û–ì–û (–∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø–∏–∫):           | 113.2 MB ‚âà 115 MB
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è RAM:** 256 MB (—Å —É—á–µ—Ç–æ–º –û–°)
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è RAM:** 512 MB (2x –∑–∞–ø–∞—Å)
- **–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è RAM:** 1 GB (–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∑–∞–ø–∞—Å)

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –° Level 1 DPI bypass

```
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç                          | –ü–∞–º—è—Ç—å
-----------------------------------|--------
–ë–∞–∑–æ–≤–∞—è –ø–∞–º—è—Ç—å Xray                | 100 MB (—á—É—Ç—å –≤—ã—à–µ –∏–∑-–∑–∞ routing)
–ü–∞–º—è—Ç—å –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (—Å—Ä–µ–¥–Ω—è—è):
  40 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.24 MB           | 9.6 MB
–ü–∞–º—è—Ç—å –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–ø–∏–∫–æ–≤–∞—è):
  80 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.24 MB           | 19.2 MB
–ü–∞–º—è—Ç—å –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–∞–±—Å. –ø–∏–∫):
  100 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.24 MB          | 24 MB
–ë—É—Ñ–µ—Ä—ã —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏:
  40 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.006 MB (—Å—Ä–µ–¥.)  | 0.24 MB
  80 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.006 MB (–ø–∏–∫)    | 0.48 MB
  100 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.006 MB (–º–∞–∫—Å)  | 0.6 MB
DNS –∫–µ—à                            | 0.24 MB
–°–∏—Å—Ç–µ–º–Ω—ã–µ –±—É—Ñ–µ—Ä—ã (+15%)           | 15 MB
-----------------------------------|--------
–ò–¢–û–ì–û (—Å—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞):         | 125 MB
–ò–¢OGO (–ø–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞):         | 135 MB
–ò–¢–û–ì–û (–∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø–∏–∫):           | 140 MB
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è RAM:** 512 MB
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è RAM:** 1 GB
- **–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è RAM:** 2 GB

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –° Level 2 CDN bypass

```
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç                          | –ü–∞–º—è—Ç—å
-----------------------------------|--------
–ë–∞–∑–æ–≤–∞—è –ø–∞–º—è—Ç—å Xray                | 120 MB (–±–æ–ª—å—à–µ routing rules)
–ü–∞–º—è—Ç—å –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (—Å—Ä–µ–¥–Ω—è—è):
  40 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.24 MB           | 9.6 MB
–ü–∞–º—è—Ç—å –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–ø–∏–∫–æ–≤–∞—è):
  80 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.24 MB           | 19.2 MB
–ü–∞–º—è—Ç—å –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–∞–±—Å. –ø–∏–∫):
  100 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.24 MB          | 24 MB
–ë—É—Ñ–µ—Ä—ã —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ (Level 2):
  40 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.006 MB (—Å—Ä–µ–¥.)  | 0.24 MB
  80 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.006 MB (–ø–∏–∫)    | 0.48 MB
  100 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 0.006 MB (–º–∞–∫—Å)  | 0.6 MB
Cloudflare domain routing          | 5 MB
DNS –∫–µ—à (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π)             | 0.5 MB
–°–∏—Å—Ç–µ–º–Ω—ã–µ –±—É—Ñ–µ—Ä—ã (+20%)           | 24 MB
-----------------------------------|--------
–ò–¢–û–ì–û (—Å—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞):         | 159 MB ‚âà 160 MB
–ò–¢–û–ì–û (–ø–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞):         | 169 MB ‚âà 170 MB
–ò–¢–û–ì–û (–∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø–∏–∫):           | 174 MB ‚âà 175 MB
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è RAM:** 512 MB
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è RAM:** 1 GB
- **–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è RAM:** 2 GB

---

## üìã –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | –ú–∏–Ω. RAM | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è | –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è | –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è |
|--------------|----------|---------------|-------------|------------|
| **–ë–∞–∑–æ–≤—ã–π Dokodemo** | 256 MB | 512 MB | 1 GB | 2 GB |
| **+ Level 1 DPI** | 512 MB | 1 GB | 2 GB | 4 GB |
| **+ Level 2 CDN** | 512 MB | 1 GB | 2 GB | 4 GB |

### –ü–æ—á–µ–º—É —Ç–∞–∫–æ–π –∑–∞–ø–∞—Å?

1. **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:** Ubuntu/Debian –∑–∞–Ω–∏–º–∞–µ—Ç 200-300 MB
2. **–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:** SSH, systemd, journald = 50-100 MB
3. **3x-ui web panel:** 30-50 MB
4. **–ó–∞–ø–∞—Å –Ω–∞ –ø–∏–∫–∏:** –ö—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—Å–ø–ª–µ—Å–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã—à–µ —Ä–∞—Å—á–µ—Ç–Ω—ã—Ö
5. **Swap –∑–∞—â–∏—Ç–∞:** –õ—É—á—à–µ –∏–º–µ—Ç—å –∑–∞–ø–∞—Å, —á–µ–º —É—Ö–æ–¥–∏—Ç—å –≤ swap (–º–µ–¥–ª–µ–Ω–Ω–æ)

---

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è 120 –∫–ª–∏–µ–Ω—Ç–æ–≤ (–Ω–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö):

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –≠–∫–æ–Ω–æ–º–Ω—ã–π VPS (–±–∞–∑–æ–≤—ã–π dokodemo)
```
RAM: 512 MB - 1 GB
CPU: 1 vCore
Disk: 10 GB
```
‚úÖ **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:** –ù–µ–±–æ–ª—å—à–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏, –±–µ–∑ tuning
‚ö†Ô∏è **–†–∏—Å–∫:** –ü—Ä–∏ –ø–∏–∫–∞—Ö –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è monitor-memory.sh

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π VPS (Level 1)
```
RAM: 1 GB - 2 GB
CPU: 1-2 vCore
Disk: 20 GB
```
‚úÖ **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:** –°—Ä–µ–¥–Ω–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏, Level 1 DPI bypass
‚úÖ **–ö–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π –∑–∞–ø–∞—Å**

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –ù–∞–¥–µ–∂–Ω—ã–π VPS (Level 2)
```
RAM: 2 GB - 4 GB
CPU: 2 vCore
Disk: 20 GB
```
‚úÖ **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:** –í—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏, Level 2 CDN bypass
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∑–∞–ø–∞—Å, —Ä–µ–¥–∫–∏–µ —Ä–µ—Å—Ç–∞—Ä—Ç—ã**

---

## üîß –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏

–ï—Å–ª–∏ —É –≤–∞—Å VPS —Å 512 MB RAM, –º–æ–∂–Ω–æ:

### 1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏ 60% –≤–º–µ—Å—Ç–æ 80%
MEMORY_THRESHOLD=60 sudo ./monitor-memory.sh monitor
```

### 2. –í–∫–ª—é—á–∏—Ç—å swap (–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ!)
```bash
# –°–æ–∑–¥–∞—Ç—å 1 GB swap —Ñ–∞–π–ª
sudo fallocate -l 1G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab
```

### 3. –£–º–µ–Ω—å—à–∏—Ç—å TCP –±—É—Ñ–µ—Ä—ã (—ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ)
```bash
# –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, –Ω–æ –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å
sudo sysctl -w net.ipv4.tcp_rmem="4096 87380 4194304"
sudo sysctl -w net.ipv4.tcp_wmem="4096 16384 4194304"
```

### 4. –û—Ç–∫–ª—é—á–∏—Ç—å Level 2, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Level 1
```bash
# Level 1 –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏
./level-1-basic-dpi.sh
```

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ:

```bash
# –¢–µ–∫—É—â–∞—è –ø–∞–º—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ xray
ps aux | grep xray

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
cat /proc/$(pgrep xray)/status | grep -E "VmSize|VmRSS|VmData"

# –° monitor-memory.sh
sudo ./monitor-memory.sh status
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
Xray Process Status:
  PID: 12345
  Memory: 145MB / 2048MB (7%)
  Threshold: 80%
  Status: ‚úì OK
```

---

## üß™ –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ —Å–µ—Ä–≤–µ—Ä –≤—ã–¥–µ—Ä–∂–∏—Ç 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤:

```bash
# –°–ª–µ–¥–∏—Ç—å –∑–∞ –ø–∞–º—è—Ç—å—é –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
watch -n 1 'ps aux | grep xray | grep -v grep'

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å htop
htop -p $(pgrep xray)

# –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
while true; do
  echo "$(date): $(ps -p $(pgrep xray) -o %mem= | awk '{print int($1)}')%" >> /tmp/xray-mem.log
  sleep 60
done
```

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è 120 –∫–ª–∏–µ–Ω—Ç–æ–≤ (–Ω–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö):

**–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è VPS:**
```yaml
RAM: 1 GB
CPU: 1 vCore
Disk: 20 GB
Network: 1 Gbps
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è VPS:**
```yaml
RAM: 2 GB
CPU: 2 vCore
Disk: 20 GB
Network: 1 Gbps
```

**–° —ç—Ç–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:**
- ‚úÖ Dokodemo –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ –ó–∞–ø–∞—Å –Ω–∞ –ø–∏–∫–æ–≤—É—é –Ω–∞–≥—Ä—É–∑–∫—É (80-100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö)
- ‚úÖ –†–µ–¥–∫–∏–µ —Ä–µ—Å—Ç–∞—Ä—Ç—ã –æ—Ç monitor-memory.sh (—Ä–∞–∑ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –∏–ª–∏ —Ä–µ–∂–µ)
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω–∏—Ç—å Level 1 –∏–ª–∏ Level 2 tuning

**–ù–∞—Å—Ç—Ä–æ–∏—Ç—å monitor-memory.sh:**
```bash
# –í crontab –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
*/5 * * * * /root/x-ui-settings-update/monitor-memory.sh monitor
```

---

## üìû –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –ø–∞–º—è—Ç—å –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–µ—Ä–µ–ø–æ–ª–Ω—è–µ—Ç—Å—è?

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤:**
   ```bash
   ss -tn state established '( dport = :443 or sport = :443 )' | wc -l
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ —É—Ç–µ—á–∫–∏:**
   ```bash
   sudo journalctl -u x-ui -n 100 | grep -i "memory\|leak\|oom"
   ```

3. **–£–º–µ–Ω—å—à–∏—Ç—å –ø–æ—Ä–æ–≥ restart:**
   ```bash
   MEMORY_THRESHOLD=70 sudo ./monitor-memory.sh monitor
   ```

4. **–£–≤–µ–ª–∏—á–∏—Ç—å RAM —Å–µ—Ä–≤–µ—Ä–∞** (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–∏—Å—Ç–µ–º–Ω–∞—è)

5. **–†–∞–∑–¥–µ–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ 2 —Å–µ—Ä–≤–µ—Ä–∞** (–ø–æ 60 –∫–ª–∏–µ–Ω—Ç–æ–≤ –∫–∞–∂–¥—ã–π)

---

**–ê–≤—Ç–æ—Ä —Ä–∞—Å—á–µ—Ç–æ–≤:** Claude, –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ—Ä–µ–Ω–∏—è—Ö –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Xray-core
**–î–∞—Ç–∞:** 2025-12-07
**–í–µ—Ä—Å–∏—è:** 1.0
