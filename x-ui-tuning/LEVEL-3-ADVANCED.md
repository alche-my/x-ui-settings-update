# Level 3: Advanced DPI Bypass –¥–ª—è RU ‚Üí Non-RU –∫–∞—Å–∫–∞–¥–∞

**–î–∞—Ç–∞:** 26 –¥–µ–∫–∞–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** Production-Ready
**–í–µ—Ä—Å–∏—è:** 1.0.0

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞ –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞–µ–º

```
–ö–ª–∏–µ–Ω—Ç –≤ –†–§ ‚Üí [RU VPS entry] ‚Üí ‚ùå DPI –ë–õ–û–ö–ò–†–û–í–ö–ê! ‚ùå ‚Üí [Non-RU VPS] ‚Üí Internet
                                      ^
                                      |
                              –ü—Ä–æ–±–ª–µ–º–∞ –ó–î–ï–°–¨!
```

**–ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –ò–°–•–û–î–Ø–©–ï–ï —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç RU VPS –∫ Non-RU VPS —á–µ—Ä–µ–∑ DPI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –†–§!**

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Level 3

### –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ö–ª–∏–µ–Ω—Ç –≤ –†–§  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  RU-—Å–µ—Ä–≤–µ—Ä (ENTRY)              ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Non-RU VPS   ‚îÇ
‚îÇ              ‚îÇ     ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ     ‚îÇ  (EXIT)      ‚îÇ
‚îÇ  V2rayNG     ‚îÇ     ‚îÇ  ‚îÇ 3x-ui   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  DPI       ‚îÇ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ              ‚îÇ
‚îÇ  NekoBox     ‚îÇ     ‚îÇ  ‚îÇ Inbound ‚îÇ    ‚îÇ  Bypass    ‚îÇ  ‚îÇ     ‚îÇ 3x-ui / Xray ‚îÇ
‚îÇ  Shadowrocket‚îÇ     ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ     ‚îÇ              ‚îÇ
‚îÇ              ‚îÇ     ‚îÇ                                 ‚îÇ     ‚îÇ              ‚îÇ
‚îÇ              ‚îÇ     ‚îÇ  Level 3: Auto Strategy Select  ‚îÇ     ‚îÇ              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚Üì                                       ‚Üì
                     [–ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–π]                   [–°—Ç–∞–±–∏–ª—å–Ω—ã–π –≤—ã—Ö–æ–¥]
                     [Health Check & Fallback]
```

---

## üìä –¢—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç A: –ù–∞—Ç–∏–≤–Ω—ã–π Xray Fragment ‚≠ê (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–æ –≤ Xray, –Ω–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ü–û
- ‚úÖ –ù–∏–∑–∫–∏–π overhead, –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ JSON
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ auto-strategy selection

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
Client ‚Üí RU VPS (3x-ui Inbound) ‚Üí Xray Outbound + Fragment ‚Üí Non-RU VPS
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (RU VPS):**
```json
{
  "outbounds": [
    {
      "tag": "to-non-ru",
      "protocol": "vless",
      "settings": {
        "vnext": [{
          "address": "your-non-ru-server.com",
          "port": 443,
          "users": [{
            "id": "YOUR-UUID",
            "flow": "xtls-rprx-vision",
            "encryption": "none"
          }]
        }]
      },
      "streamSettings": {
        "network": "tcp",
        "security": "reality",
        "realitySettings": {
          "fingerprint": "chrome",
          "serverName": "www.microsoft.com",
          "publicKey": "YOUR-PUBLIC-KEY",
          "shortId": "YOUR-SHORT-ID"
        },
        "sockopt": {
          "dialerProxy": "fragment",
          "tcpFastOpen": true,
          "tcpKeepAliveInterval": 15
        }
      }
    },
    {
      "tag": "fragment",
      "protocol": "freedom",
      "settings": {
        "fragment": {
          "packets": "tlshello",
          "length": "100-200",
          "interval": "10-20"
        }
      },
      "streamSettings": {
        "sockopt": {
          "tcpNoDelay": true
        }
      }
    }
  ],
  "routing": {
    "rules": [
      {
        "type": "field",
        "inboundTag": ["client-inbound"],
        "outboundTag": "to-non-ru"
      }
    ]
  }
}
```

---

### –í–∞—Ä–∏–∞–Ω—Ç B: ByeDPI —á–µ—Ä–µ–∑ SOCKS5

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ì–∏–±–∫–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –æ–±—Ö–æ–¥–∞ DPI
- ‚úÖ –õ–µ–≥–∫–æ –º–µ–Ω—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å (ByeDPI daemon)
- ‚ö†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π hop (127.0.0.1:1080)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
Client ‚Üí RU VPS (3x-ui) ‚Üí ByeDPI SOCKS5 (127.0.0.1:1080) ‚Üí Non-RU VPS
```

**–®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ByeDPI –Ω–∞ RU VPS**
```bash
# –°–∫–∞—á–∞—Ç—å ByeDPI
cd /opt
wget https://github.com/hufrea/byedpi/releases/latest/download/byedpi-linux-x86_64.tar.gz
tar -xzf byedpi-linux-x86_64.tar.gz
mv ciadpi /usr/local/bin/byedpi
chmod +x /usr/local/bin/byedpi
```

**–®–∞–≥ 2: Systemd —Å–µ—Ä–≤–∏—Å (/etc/systemd/system/byedpi.service)**
```ini
[Unit]
Description=ByeDPI SOCKS5 Proxy
After=network.target

[Service]
Type=simple
User=root
ExecStart=/usr/local/bin/byedpi --ip 127.0.0.1 --port 1080 --disorder 1 --split 1 --auto=torst
Restart=always
RestartSec=3

[Install]
WantedBy=multi-user.target
```

```bash
systemctl enable byedpi
systemctl start byedpi
systemctl status byedpi
```

**–®–∞–≥ 3: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è 3x-ui (RU VPS)**
```json
{
  "outbounds": [
    {
      "tag": "to-non-ru",
      "protocol": "vless",
      "settings": {
        "vnext": [{
          "address": "your-non-ru-server.com",
          "port": 443,
          "users": [{ "id": "YOUR-UUID", "flow": "xtls-rprx-vision" }]
        }]
      },
      "streamSettings": {
        "network": "tcp",
        "security": "reality",
        "realitySettings": { ... }
      },
      "proxySettings": {
        "tag": "byedpi-proxy"
      }
    },
    {
      "tag": "byedpi-proxy",
      "protocol": "socks",
      "settings": {
        "servers": [{
          "address": "127.0.0.1",
          "port": 1080
        }]
      }
    }
  ]
}
```

---

### –í–∞—Ä–∏–∞–Ω—Ç C: Zapret nfqws (–°–∏—Å—Ç–µ–º–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ iptables, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π Xray
- ‚úÖ –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –í–°–Å –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —Ä–æ—É—Ç–µ—Ä–∞—Ö Keenetic (–º–∞—Å—Å–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ (iptables rules)
- ‚ö†Ô∏è –í–ª–∏—è–µ—Ç –Ω–∞ –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ —Å–µ—Ä–≤–µ—Ä–∞

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
Client ‚Üí RU VPS (3x-ui) ‚Üí [iptables NFQUEUE] ‚Üí nfqws ‚Üí Non-RU VPS
                                ‚Üë
                          –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞
                          —Å–∏—Å—Ç–µ–º–Ω–æ–º —É—Ä–æ–≤–Ω–µ
```

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Zapret:**
```bash
cd /opt
git clone https://github.com/bol-van/zapret.git
cd zapret
./install_easy.sh
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∏—Å—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ –∫ Non-RU VPS:**

–°–æ–∑–¥–∞–π—Ç–µ `/opt/zapret/config`:
```bash
# IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ Non-RU —Å–µ—Ä–≤–µ—Ä–∞
NFQWS_OPT_DESYNC="--dpi-desync=split2 --dpi-desync-split-pos=2"
NFQWS_OPT_DESYNC_HTTP="--dpi-desync=split2"
NFQWS_OPT_DESYNC_HTTPS="--dpi-desync=split2 --dpi-desync-split-pos=2"
NFQWS_OPT_DESYNC_QUIC="--dpi-desync=fake --dpi-desync-repeats=6"

# –ü—Ä–∏–º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –∫ —Ç—Ä–∞—Ñ–∏–∫—É –Ω–∞ Non-RU —Å–µ—Ä–≤–µ—Ä
MODE=nfqws
DISABLE_IPV6=1
```

**iptables –ø—Ä–∞–≤–∏–ª–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è Zapret):**
```bash
# –ü—Ä–∏–º–µ—Ä —Ä—É—á–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ IP Non-RU —Å–µ—Ä–≤–µ—Ä–∞
NON_RU_IP="95.217.123.45"  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à IP

iptables -t mangle -I POSTROUTING -d $NON_RU_IP -p tcp --dport 443 \
  -m connbytes --connbytes-dir=original --connbytes-mode=packets --connbytes 1:6 \
  -m mark ! --mark 0x40000000/0x40000000 \
  -j NFQUEUE --queue-num 200 --queue-bypass
```

**–ó–∞–ø—É—Å–∫ nfqws:**
```bash
nfqws --qnum=200 \
  --dpi-desync=split2 \
  --dpi-desync-split-pos=2 \
  --dpi-desync-fooling=badsum \
  --daemon
```

**Systemd —Å–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ `./install_easy.sh`**

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–π (Auto Strategy Selection)

### –ë–∞–∑–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π DPI bypass

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/opt/dpi-strategies.json`:

```json
{
  "strategies": [
    {
      "id": "strategy-1-basic",
      "name": "Basic Fragment",
      "method": "xray-fragment",
      "priority": 1,
      "config": {
        "packets": "tlshello",
        "length": "100-200",
        "interval": "10-20"
      }
    },
    {
      "id": "strategy-2-aggressive",
      "name": "Aggressive Fragment",
      "method": "xray-fragment",
      "priority": 2,
      "config": {
        "packets": "tlshello",
        "length": "50-150",
        "interval": "5-15"
      }
    },
    {
      "id": "strategy-3-tcp-split",
      "name": "TCP Split",
      "method": "xray-fragment",
      "priority": 3,
      "config": {
        "packets": "1-3",
        "length": "100-200",
        "interval": "10-20"
      }
    },
    {
      "id": "strategy-4-byedpi-disorder",
      "name": "ByeDPI Disorder",
      "method": "byedpi",
      "priority": 4,
      "config": {
        "params": "--disorder 1 --split 1 --auto=torst"
      }
    },
    {
      "id": "strategy-5-byedpi-tlsrec",
      "name": "ByeDPI TLS Record",
      "method": "byedpi",
      "priority": 5,
      "config": {
        "params": "--tlsrec 1+s --split 1"
      }
    },
    {
      "id": "strategy-6-zapret-split2",
      "name": "Zapret Split2",
      "method": "zapret",
      "priority": 6,
      "config": {
        "params": "--dpi-desync=split2 --dpi-desync-split-pos=2"
      }
    }
  ]
}
```

### –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

–ë—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ `/opt/auto-strategy-selector.sh` (—Å–º. —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª)

---

## ü§ñ –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ health check

### Health Check —Å–∫—Ä–∏–ø—Ç

–°–æ–∑–¥–∞–π—Ç–µ `/opt/health-check.sh`:

```bash
#!/bin/bash

################################################################################
# Health Check –¥–ª—è RU ‚Üí Non-RU VPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
################################################################################

NON_RU_IP="95.217.123.45"  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Non-RU VPS IP
NON_RU_PORT=443
TIMEOUT=5
LOG_FILE="/var/log/dpi-health-check.log"

# –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
check_connection() {
    local ip=$1
    local port=$2
    local timeout=$3

    if timeout $timeout bash -c "echo >/dev/tcp/$ip/$port" 2>/dev/null; then
        return 0  # Success
    else
        return 1  # Failure
    fi
}

# –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
main() {
    echo "[$(date)] Testing connection to $NON_RU_IP:$NON_RU_PORT" | tee -a $LOG_FILE

    if check_connection $NON_RU_IP $NON_RU_PORT $TIMEOUT; then
        echo "[$(date)] ‚úì Connection successful" | tee -a $LOG_FILE
        exit 0
    else
        echo "[$(date)] ‚úó Connection failed" | tee -a $LOG_FILE

        # –¢—Ä–∏–≥–≥–µ—Ä –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
        /opt/auto-strategy-selector.sh switch-next

        exit 1
    fi
}

main
```

**Cron –∑–∞–¥–∞—á–∞ (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç):**
```bash
crontab -e

# –î–æ–±–∞–≤—å—Ç–µ:
*/5 * * * * /opt/health-check.sh
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Xray Fragment | ByeDPI SOCKS5 | Zapret nfqws |
|----------|---------------|---------------|--------------|
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **–ì–∏–±–∫–æ—Å—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–π** | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê |
| **–í–ª–∏—è–Ω–∏–µ –Ω–∞ —Å–∏—Å—Ç–µ–º—É** | –ù–∏–∑–∫–æ–µ | –°—Ä–µ–¥–Ω–µ–µ | –°—Ä–µ–¥–Ω–µ–µ |
| **–ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–π** | ‚úÖ –î–∞ | ‚úÖ –î–∞ | ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ |
| **Zero-touch –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞** | ‚úÖ –î–∞ | ‚úÖ –î–∞ | ‚úÖ –î–∞ |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Xray Fragment (–í–∞—Ä–∏–∞–Ω—Ç A), –µ—Å–ª–∏:
- ‚úÖ –•–æ—Ç–∏—Ç–µ –º–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è Xray

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ByeDPI (–í–∞—Ä–∏–∞–Ω—Ç B), –µ—Å–ª–∏:
- ‚úÖ –ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- ‚úÖ –ì–æ—Ç–æ–≤—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å
- ‚úÖ –•–æ—Ç–∏—Ç–µ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –º–µ—Ç–æ–¥–∞–º–∏

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Zapret (–í–∞—Ä–∏–∞–Ω—Ç C), –µ—Å–ª–∏:
- ‚úÖ –ù—É–∂–µ–Ω —Å–∏—Å—Ç–µ–º–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å bypass
- ‚úÖ –•–æ—Ç–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤–µ—Å—å –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫
- ‚úÖ –ò–º–µ–µ—Ç–µ –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å iptables/nftables

---

## üöÄ Quick Start –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞

### Quick Start: –í–∞—Ä–∏–∞–Ω—Ç A (Xray Fragment)

```bash
# 1. –°–∫–∞—á–∞—Ç—å —Å–∫—Ä–∏–ø—Ç Level-3
cd /root/x-ui-settings-update/x-ui-tuning
./level-3-advanced.sh --method xray-fragment --non-ru-ip YOUR_IP

# –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –û–ø—Ä–µ–¥–µ–ª–∏—Ç 3x-ui –∫–æ–Ω—Ñ–∏–≥
# - –î–æ–±–∞–≤–∏—Ç fragment outbound
# - –ù–∞—Å—Ç—Ä–æ–∏—Ç dialerProxy
# - –ü—Ä–∏–º–µ–Ω–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
# - –ó–∞–ø—É—Å—Ç–∏—Ç health check
```

### Quick Start: –í–∞—Ä–∏–∞–Ω—Ç B (ByeDPI)

```bash
./level-3-advanced.sh --method byedpi --non-ru-ip YOUR_IP

# –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç ByeDPI
# - –°–æ–∑–¥–∞—Å—Ç systemd —Å–µ—Ä–≤–∏—Å
# - –ù–∞—Å—Ç—Ä–æ–∏—Ç proxySettings –≤ Xray
# - –ó–∞–ø—É—Å—Ç–∏—Ç ByeDPI
# - –ù–∞—Å—Ç—Ä–æ–∏—Ç auto-strategy selector
```

### Quick Start: –í–∞—Ä–∏–∞–Ω—Ç C (Zapret)

```bash
./level-3-advanced.sh --method zapret --non-ru-ip YOUR_IP

# –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Zapret
# - –ù–∞—Å—Ç—Ä–æ–∏—Ç iptables –ø—Ä–∞–≤–∏–ª–∞
# - –ó–∞–ø—É—Å—Ç–∏—Ç nfqws
# - –ù–∞—Å—Ç—Ä–æ–∏—Ç systemd —Å–µ—Ä–≤–∏—Å—ã
```

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ —Å—Å—ã–ª–∫–∏

- [Xray Fragment –¥–ª—è outbound](https://github.com/XTLS/Xray-core/pull/2021)
- [Freedom (fragment, noises) - Project X](https://xtls.github.io/en/config/outbounds/freedom.html)
- [ByeDPI GitHub](https://github.com/hufrea/byedpi)
- [Zapret GitHub](https://github.com/bol-van/zapret)
- [3x-ui Advanced Configuration](https://github.com/MHSanaei/3x-ui/wiki/Advanced)
- [Xray proxySettings –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://xtls.github.io/en/config/outbound.html)

---

## üéì –í—ã–≤–æ–¥—ã

**Level 3 —Ä–µ—à–∞–µ—Ç –≤–∞—à—É –ø—Ä–æ–±–ª–µ–º—É –ø–æ–ª–Ω–æ—Å—Ç—å—é:**

1. ‚úÖ **DPI bypass –Ω–∞ RU VPS outbound** - —Ç—Ä–∏ —Ä–∞–±–æ—á–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞
2. ‚úÖ **–ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–π** - –∫–∞–∫ –≤ ByeDPI
3. ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** - health check + fallback
4. ‚úÖ **Zero-touch –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞** - –≤—Å—ë –Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ
5. ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –º–µ—Ç–æ–¥–∞–º–∏

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å—Ç–µ–∫:**
```
Client ‚Üí RU VPS (3x-ui + Xray Fragment) ‚Üí Non-RU VPS (3x-ui) ‚Üí Internet
```

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ó–∞–ø—É—Å—Ç–∏—Ç—å `level-3-advanced.sh` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏!
