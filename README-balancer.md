# –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Non-RU —Å–µ—Ä–≤–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ ByeDPI

## üéØ –î–ª—è —á–µ–≥–æ —ç—Ç–æ –Ω—É–∂–Ω–æ

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ Non-RU —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ:
- –†–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –º–µ–∂–¥—É –Ω–∏–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π failover –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω ByeDPI –¥–ª—è –æ–±—Ö–æ–¥–∞ DPI –Ω–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- ByeDPI —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ RU-—Å–µ—Ä–≤–µ—Ä–µ
- 2+ Non-RU —Å–µ—Ä–≤–µ—Ä–∞ —Å VLESS
- UUID –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞ 3 —à–∞–≥–∞

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ByeDPI (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

```bash
sudo ./setup-byedpi-proxy.sh \
  --non-ru-ip 185.1.2.3 \
  --non-ru-uuid "–≤–∞—à-uuid-–¥–ª—è-–ø–µ—Ä–≤–æ–≥–æ-—Å–µ—Ä–≤–µ—Ä–∞"
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** IP –∏ UUID –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ª—é–±—ã–µ - –º—ã —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ.

### –®–∞–≥ 2: –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞

```bash
./generate-balancer-config.sh
```

–°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç:
1. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–µ—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `3`)
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:
   - IP –∞–¥—Ä–µ—Å
   - –ü–æ—Ä—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 443)
   - UUID
3. –°—Ç—Ä–∞—Ç–µ–≥–∏—é –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏:
   - `1` - random (—Å–ª—É—á–∞–π–Ω–æ)
   - `2` - leastPing (–Ω–∞–∏–º–µ–Ω—å—à–∏–π –ø–∏–Ω–≥)
   - `3` - leastLoad (–Ω–∞–∏–º–µ–Ω—å—à–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞)

**–ü—Ä–∏–º–µ—Ä:**
```
–°–∫–æ–ª—å–∫–æ Non-RU —Å–µ—Ä–≤–µ—Ä–æ–≤? 3

=== –°–µ—Ä–≤–µ—Ä #1 ===
IP: 185.1.2.3
–ü–æ—Ä—Ç: 443
UUID: 11111111-1111-1111-1111-111111111111

=== –°–µ—Ä–≤–µ—Ä #2 ===
IP: 185.4.5.6
–ü–æ—Ä—Ç: 443
UUID: 22222222-2222-2222-2222-222222222222

=== –°–µ—Ä–≤–µ—Ä #3 ===
IP: 185.7.8.9
–ü–æ—Ä—Ç: 443
UUID: 33333333-3333-3333-3333-333333333333

–°—Ç—Ä–∞—Ç–µ–≥–∏—è: 1 (random)
```

### –®–∞–≥ 3: –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ 3x-ui

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `/root/byedpi-config/xray-balancer-config.json`

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ JSON (–±—ã—Å—Ç—Ä–æ)**
1. –û—Ç–∫—Ä–æ–π—Ç–µ 3x-ui –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Panel Settings ‚Üí Xray Configs**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `xray-balancer-config.json`
4. –ó–∞–º–µ–Ω–∏—Ç–µ —Å–µ–∫—Ü–∏–∏ `outbounds` –∏ `routing`
5. Save ‚Üí Restart

**–í–∞—Ä–∏–∞–Ω—Ç B: –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é**
```bash
cat /root/byedpi-config/BALANCER-SETUP.md
```

**–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ 3x-ui:**
```bash
sudo systemctl restart x-ui
```

---

## üìä –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ö–ª–∏–µ–Ω—Ç   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ RU-—Å–µ—Ä–≤–µ—Ä                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
                 ‚îÇ ‚îÇ 3x-ui   ‚îÇ‚îÄ‚îÄ‚ñ∂‚îÇ ByeDPI:1080  ‚îÇ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                 ‚îÇ ‚îÇ Inbound ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ    ‚îÇ
                 ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                     ‚îÇ    ‚îÇ
                 ‚îÇ                                 ‚îÇ    ‚îÇ DPI bypass
                 ‚îÇ Xray Balancer (random):         ‚îÇ    ‚îÇ
                 ‚îÇ  ‚îú‚îÄ outbound-1 (via ByeDPI) ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚ñ∂ 185.1.2.3:443
                 ‚îÇ  ‚îú‚îÄ outbound-2 (via ByeDPI) ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚ñ∂ 185.4.5.6:443
                 ‚îÇ  ‚îî‚îÄ outbound-3 (via ByeDPI) ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚ñ∂ 185.7.8.9:443
                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
                                                        ‚îÇ
                                                     –ò–Ω—Ç–µ—Ä–Ω–µ—Ç
```

**–í–∞–∂–Ω–æ:**
- ‚úÖ –û–¥–∏–Ω ByeDPI –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–µ—Å—å –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫
- ‚úÖ DPI bypass –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º 3 —Å–µ—Ä–≤–µ—Ä–∞–º
- ‚úÖ –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ Xray —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É
- ‚úÖ –ï—Å–ª–∏ –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä –ø–∞–¥–∞–µ—Ç - —Ç—Ä–∞—Ñ–∏–∫ –∏–¥–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ

---

## üîß –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏

### Random (—Å–ª—É—á–∞–π–Ω—ã–π)
- –ö–∞–∂–¥–æ–µ –Ω–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ‚Üí —Å–ª—É—á–∞–π–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
- –ü—Ä–æ—Å—Ç–∞—è –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤

### LeastPing (–Ω–∞–∏–º–µ–Ω—å—à–∏–π –ø–∏–Ω–≥)
- Xray –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∏–Ω–≥ –¥–æ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- –í—ã–±–∏—Ä–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –ø–∏–Ω–≥–æ–º
- –¢—Ä–µ–±—É–µ—Ç Xray 1.8.0+

### LeastLoad (–Ω–∞–∏–º–µ–Ω—å—à–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞)
- –í—ã–±–∏—Ä–∞–µ—Ç –Ω–∞–∏–º–µ–Ω–µ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
- –£—á–∏—Ç—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ByeDPI
sudo systemctl status byedpi

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å 3x-ui
sudo systemctl status x-ui

# –õ–æ–≥–∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏
sudo journalctl -u x-ui -f | grep -i balanc
```

---

## üîç UUID –Ω–∞ Non-RU —Å–µ—Ä–≤–µ—Ä–∞—Ö

**–í–ê–ñ–ù–û:** –ù–∞ –∫–∞–∂–¥–æ–º Non-RU —Å–µ—Ä–≤–µ—Ä–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π UUID!

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã —É–∫–∞–∑–∞–ª–∏:
- –°–µ—Ä–≤–µ—Ä 1: UUID `11111111-1111-1111-1111-111111111111`
- –°–µ—Ä–≤–µ—Ä 2: UUID `22222222-2222-2222-2222-222222222222`
- –°–µ—Ä–≤–µ—Ä 3: UUID `33333333-3333-3333-3333-333333333333`

–¢–æ –Ω–∞:
- **Non-RU —Å–µ—Ä–≤–µ—Ä–µ 1** –¥–æ–±–∞–≤—å—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å UUID `11111111...`
- **Non-RU —Å–µ—Ä–≤–µ—Ä–µ 2** –¥–æ–±–∞–≤—å—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å UUID `22222222...`
- **Non-RU —Å–µ—Ä–≤–µ—Ä–µ 3** –¥–æ–±–∞–≤—å—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å UUID `33333333...`

---

## üìù –ë—ã—Å—Ç—Ä–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ByeDPI
sudo ./setup-byedpi-proxy.sh --non-ru-ip 185.1.2.3 --non-ru-uuid "your-uuid"

# 2. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞
./generate-balancer-config.sh

# 3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥ –≤ 3x-ui
cat /root/byedpi-config/xray-balancer-config.json

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å 3x-ui
sudo systemctl restart x-ui

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
sudo journalctl -u x-ui -f
```

---

## üÜò –ü—Ä–æ–±–ª–µ–º—ã

### ByeDPI –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
sudo systemctl status byedpi
sudo journalctl -u byedpi -n 50
```

### 3x-ui –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä–∞–º
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ UUID –Ω–∞ Non-RU —Å–µ—Ä–≤–µ—Ä–∞—Ö
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∞–¥—Ä–µ—Å–∞ –∏ –ø–æ—Ä—Ç—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `sudo journalctl -u x-ui -f`

### –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ –µ—Å—Ç—å —Å–µ–∫—Ü–∏—è `routing.balancers`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–≥–∏ outbound-–æ–≤ –≤ `selector`
- –í—Å–µ outbound-—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å `proxySettings.tag: "byedpi-socks"`

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- **README-byedpi.md** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ByeDPI
- **CHEATSHEET-byedpi.md** - —à–ø–∞—Ä–≥–∞–ª–∫–∞ –∫–æ–º–∞–Ω–¥
- **/root/byedpi-config/BALANCER-SETUP.md** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫—É

---

## üéì –ü—Ä–∏–º–µ—Ä –¥–ª—è —Ç–≤–æ–µ–≥–æ —Å–ª—É—á–∞—è (3 —Å–µ—Ä–≤–µ—Ä–∞)

–î–æ–ø—É—Å—Ç–∏–º, —É —Ç–µ–±—è:
- RU-—Å–µ—Ä–≤–µ—Ä: 192.168.1.10
- Non-RU-1: 185.100.200.1 (–•–æ—Å—Ç–µ—Ä A)
- Non-RU-2: 185.100.200.2 (–•–æ—Å—Ç–µ—Ä B)
- Non-RU-3: 185.100.200.3 (–•–æ—Å—Ç–µ—Ä C)

**–î–µ–π—Å—Ç–≤–∏—è:**

1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π 3 UUID:
```bash
UUID1=$(./setup-byedpi-proxy.sh --generate-uuid)
UUID2=$(./setup-byedpi-proxy.sh --generate-uuid)
UUID3=$(./setup-byedpi-proxy.sh --generate-uuid)
echo "UUID1: $UUID1"
echo "UUID2: $UUID2"
echo "UUID3: $UUID3"
```

2. –î–æ–±–∞–≤—å —ç—Ç–∏ UUID –Ω–∞ Non-RU —Å–µ—Ä–≤–µ—Ä—ã (–≤ 3x-ui VLESS inbound)

3. –£—Å—Ç–∞–Ω–æ–≤–∏ ByeDPI –Ω–∞ RU-—Å–µ—Ä–≤–µ—Ä–µ:
```bash
sudo ./setup-byedpi-proxy.sh --non-ru-ip 185.100.200.1 --non-ru-uuid "$UUID1"
```

4. –°–æ–∑–¥–∞–π –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫:
```bash
./generate-balancer-config.sh
# –í–≤–µ–¥–∏ –¥–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö 3 —Å–µ—Ä–≤–µ—Ä–æ–≤
```

5. –ü—Ä–∏–º–µ–Ω–∏ –∫–æ–Ω—Ñ–∏–≥ –≤ 3x-ui –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å —Ç—Ä–∞—Ñ–∏–∫ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –±—É–¥–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è –º–µ–∂–¥—É 3 —Å–µ—Ä–≤–µ—Ä–∞–º–∏ —á–µ—Ä–µ–∑ –æ–¥–∏–Ω ByeDPI.
